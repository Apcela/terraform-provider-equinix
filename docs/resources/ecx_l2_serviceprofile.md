---
layout: "equinix"
page_title: "Equinix: equinix_ecx_l2_serviceprofile"
sidebar_current: "docs-equinix-resource-ecx-l2-serviceprofile"
description: |-
  Provides an ECX L2 service profile resource.
---

# equinix_ecx_l2_serviceprofile

Resource `equinix_ecx_l2_serviceprofile` is used to manage layer 2 service profiles
in Equinix Fabric.

This resource relies on the Equinix Cloud Exchange Fabric API. The parameters
and attributes available map to the fields described at
<https://developer.equinix.com/catalog/sellerv3#operation/getProfileByIdOrNameUsingGET>.

## Example Usage

```hcl
resource "equinix_ecx_l2_serviceprofile" "private-profile" {
  name                               = "private-profile"
  description                        = "my private profile"
  connection_name_label              = "Connection"
  bandwidth_threshold_notifications  = ["John.Doe@example.com", "Marry.Doe@example.com"]
  profile_statuschange_notifications = ["John.Doe@example.com", "Marry.Doe@example.com"]
  vc_statuschange_notifications      = ["John.Doe@example.com", "Marry.Doe@example.com"]
  private                            = true
  private_user_emails                = ["John.Doe@example.com", "Marry.Doe@example.com"]
  features {
    allow_remote_connections = true
    test_profile = false
  }
  port {
    uuid       = "a867f685-422f-22f7-6de0-320a5c00abdd"
    metro_code = "NY"
  }
  port {
    uuid       = "a867f685-4231-2317-6de0-320a5c00abdd"
    metro_code = "NY"
  }
  speed_band {
    speed      = 1000
    speed_unit = "MB"
  }
  speed_band {
    speed      = 500
    speed_unit = "MB"
  }
  speed_band {
    speed      = 100
    speed_unit = "MB"
  }
}
```

## Argument Reference

The following arguments are supported by `equinix_ecx_l2_serviceprofile` resource:

- `name` - (Required) Name of the service profile - An alpha-numeric 50 characters
  string which can include only hyphens and underscores ('-' & '\_')
- `description` - (Optional) Description of the service profile
- `bandwidth_alert_threshold` - (Optional) specifies the port bandwidth threshold
 percentage. If the bandwidth limit is met or exceeded, an alert is sent to the seller
- `speed_customization_allowed` - (Optional) Allow customer to enter a custom speed
- `oversubscription_allowed` - (Optional) Regardless of the utilization, the Equinix
   service will continue to add connections to your links until we reach the
   oversubscription limit. By selecting this service, you acknowledge that you
   will manage decisions on when to increase capacity on these links
- `api_integration` - (Optional) API integration allows you to complete
  connection provisioning in less than five minutes. Without API Integration,
  additional manual steps will be required and the provisioning will
  likely take longer
- `authkey_label` - (Optional) The Authentication Key service allows Service
   Providers with QinQ ports to accept groups of connections or VLANs from Dot1q
   customers. This is similar to S-Tag/C-Tag capabilities
- `connection_name_label` - (Optional) custom name used for calling a connections
i.e. "circuit". Defaults to "Connection"
- `ctag_label` - (Optional) C-Tag/Inner-Tag of the connection - A numeric character
  ranging from 2 to 4094
- `servicekey_autogenerated` - (Optional) Indicates whether multiple connections
  can be created with the same authorization key to connect to this service profile
  after the first connection has been approved by the seller
- `equinix_managed_port_vlan` - (Optional) Applicable when `api_integration` is
  set to _true_. It indicates whether the port and VLAN details are managed by Equinix.
- `integration_id` - (Optional) Specifies the API integration ID that was provided
   to the customer during onboarding. You can validate your API integration ID
   using the validateIntegrationId API.
- `bandwidth_threshold_notifications` - (Optional) An array of email ids you
  would like to notify when there are any updates on your connection
- `profile_statuschange_notifications` - (Required) An array of email ids you
  would like to notify when there are any updates on your connection
- `vc_statuschange_notifications` - (Required) An array of email ids you would
  like to notify when there are any updates on your connection
- `oversubscription` - (Optional) you can set an alert for when a percentage of
  your profile has been sold. Service providers like to use this functionality to
  alert them when they need to add more ports or when they need to create
  a new service profile. Required with `oversubscription_allowed`, defaults to "1x"
- `private` - (Optional) Indicates whether or not this is a private profile.
  If private, it can only be available for creating connections if correct permissions
  are granted (i.e. not public like AWS/Azure/Oracle/Google, etc.
- `private_user_emails` - (Optional) An array of users email ids who have permission
  to access this service profile. Argument is required when profile is set as private.
- `redundancy_required` - (Optional) Specify if your connections require redundancy.
  If yes, then users need to create a secondary redundant connection
- `speed_from_api` - (Optional) Derive speed from an API call. Argument has to
 be specified when `api_integration` is enabled
- `tag_type` - (Optional) specifies additional tagging information required by
  the seller profile for Dot1Q to QinQ translation
  - `CTAGED` - when seller side VLAN c-Tag has to be provided _(Default)_
  - `NAMED` - when application named tag has to be provided
  - `BOTH` - when both, application tag or seller side VLAN c-Tag can be provided
- `secondary_vlan_from_primary` - (Optional) Indicates whether the VLAN ID of
  the secondary connection is the same as the primary connection
- `features` - (Required) Block of profile features configuration
  - `allow_remote_connections` - (Required) indicates whether or not connections
    to this profile can be created from remote metro locations
  - `test_profile` - (Required) indicates whether or not this profile can be used
    for test connections
- `port` - (Required) One or more definitions of ports residing in locations,
  from which your customers will be able to access services using given profile
  - `port.#.uuid` - (Required) Unique identifier of the port
  - `port.#.metro_code` - (Required) The metro code of location where the port resides
- `speed_band` - (Optional) One or more definitions of supported speed/bandwidth.
 Argument is required when `speed_from_api` is set to _false_
  - `speed_band.#.speed` - (Required) The speed/bandwidth supported by this profile
  - `speed_band.#.speed_unit` - (Required) unit of the speed/bandwidth supported
  by this profile _(one of MB and GB are allowed)_

## Attributes Reference

In addition to the arguments listed above, the following computed attributes
are exported:

- `uuid` - Unique identifier of the service profile
- `state` - Status of the service profile
